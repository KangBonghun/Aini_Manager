<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <link rel="stylesheet" href="css/c3.min.css">
  <link rel="stylesheet" href="css/style.css">
  
  <script src="js/jquery-2.2.3.min.js"></script>
  <script src="js/d3.min.js"></script>
  <script src="js/c3.min.js"></script>
  
</head>
<body class="hold-transition skin-red-light sidebar-mini layout-boxed">
	<div id="stepScoreChart"></div>
	<script>
	var chart = c3.generate({
		bindto: '#stepScoreChart',
		size: {
			height: 150,
		},
		padding: {
			top: 10,
			right: 0,
			bottom: 0,
			left: 0,
		},
		axis: {
			y: {
				max:100,
				show:false,
				padding: {top:0, bottom:0},
				tick: {
					count:8,
				},
			},
			x: {
				show:false,
				padding: {left:0, right:0},
			}
		},
		point: {
			show: false
		},
		grid: {
			x: {
				show: false
			},
			y: {
				show: true
			}
		},
		legend: {
			show: false
		},
		tooltip: {
			show: false
		},
		data: {
			json: {
				STEP: [0, 0, 0, 0, 0, 0],
			},
			types: {
				STEP: 'line',
			},
			colors: {
				STEP: '#B855FC',
			},
		},
		data: {
			json: {
				data1 : [0, 0, 0, 0, 0, 0, 0.5, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 12.5, 12, 11, 10, 9, 8, 7, 6, 6.5, 7, 7.5, 8, 9, 10, 11, 12, 13, 14, 15.5, 17, 18.5, 20, 21.5, 23, 24.5, 26, 27.5, 29, 30.5, 32, 33.5, 35, 36.5, 38, 39.5, 41, 42.5, 44, 45.5, 47, 48.5, 50, 51.5, 53, 54.5, 56, 57.5, 59, 60.5, 62, 63.5, 65, 66.5, 68, 69.5, 71, 73, 75, 77, 79, 81, 83, 85, 87, 87.5, 88, 88.5, 89, 89.5, 90, 90, 89.5, 89, 88.5, 88, 87.5, 87, 86.5, 86, 85.5, 85, 84, 83, 82, 81, 80, 79, 78, 77, 76, 75, 73.5, 72, 70.5, 69, 67.5, 66, 64.5, 63, 61.5, 60, 58, 56, 54, 52, 50, 48, 46, 44, 42, 40, 38, 36, 34, 32, 30, 29.5, 29, 28.5, 28, 27.5, 27, 26.5, 26, 25.5, 25, 23.5, 22, 20.5, 19, 17.5, 16, 14.5, 13, 12.5, 12, 11.5, 11, 10.5, 10, 10, 10, 10, 9.5, 9.5, 9, 9, 9, 9.5, 9.5, 9, 8.5, 8, 7.5, 7, 6.5, 6, 5.5, 5, 4.5, 4, 4, 4, 3.5, 3.5, 3.5, 3, 3, 2.5, 2, 2, 2.5, 3, 3.5, 4, 4.5, 5, 6, 7, 8, 9, 10, 11, 12, 12, 11, 10, 9, 8, 7, 6, 5, 4.5, 4, 3.5, 3, 2.5, 2, 1.5, 1, 0.5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
	          	data2 : [0, 0, 0, 0, 0, 0, 0.5, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 12.5, 12, 11, 10, 9, 8, 7, 6, 6.5, 7, 7.5, 8, 9, 10, 11, 12, 13, 14, 15.5, 17, 18.5, 20, 21.5, 23, 24.5, 26, 27.5, 29, 30.5, 32, 33.5, 35, 36.5, 38, 39.5, 41, 42.5, 44, 45.5, 47, 48.5, 50, 51.5, 53, 54.5, 56, 57.5, 59, 60.5, 62, 63.5, 65, 66.5, 68, 69.5, 71, 73, 75, 77, 79, 81, 83, 85, 87, 87.5, 88, 88.5, 89, 89.5, 90, 90, 89.5, 89, 88.5, 88, 87.5, 87, 86.5, 86, 85.5, 85, 84, 83, 82, 81, 80, 79, 78, 77, 76, 75, 73.5, 72, 70.5, 69, 67.5, 66, 64.5, 63, 61.5, 60, 58, 56, 54, 52, 50, 48, 46, 44, 42, 40, 38, 36, 34, 32, 30, 29.5, 29, 28.5, 28, 27.5, 27, 26.5, 26, 25.5, 25, 23.5, 22, 20.5, 19, 17.5, 16, 14.5, 13, 12.5, 12, 11.5, 11, 10.5, 10, 10, 10, 10, 9.5, 9.5, 9, 9, 9, 9.5, 9.5, 9, 8.5, 8, 7.5, 7, 6.5, 6, 5.5, 5, 4.5, 4, 4, 4, 3.5, 3.5, 3.5, 3, 3, 2.5, 2, 2, 2.5, 3, 3.5, 4, 4.5, 5, 6, 7, 8, 9, 10, 11, 12, 12, 11, 10, 9, 8, 7, 6, 5, 4.5, 4, 3.5, 3, 2.5, 2, 1.5, 1, 0.5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
			},
			types: {
	        	  data1: 'area-spline',
	        	  data2: 'area-spline',
	          },
	          colors: {
	        	  data1: '#DFDFE3',
	        	  data2: '#5ea4ff',
	          },
		},
		oninit: function() {
			$('#stepScoreChart .c3-chart-lines').after($('#stepScoreChart .c3-event-rects'));
			
			d3.select('#stepScoreChart defs').append('clipPath').attr('id', 'region').append('rect');
			d3.select('#stepScoreChart .c3-chart-line.c3-target.c3-target-data2').attr('clip-path','url(#region)');
		},
		onrendered: function () {
			data = 50;
// 			if(data) {
				$('#stepScoreChart .c3-event-rect-' + data*2 + '').addClass('score-region');
				
				var rect = d3.select('#stepScoreChart .c3-event-rect.score-region');
				
				var height = rect.attr('height');
				var width = rect.attr('width');
				var x = rect.attr('x');
				var y = rect.attr('y');
				
				width = 50;
				x = x - 25;
				
				d3.select('#region rect').attr('x',x).attr('y',y).attr('width',width).attr('height',height);
				rect.attr('width', width).attr('x', x);
				
				
				$('.c3-xgrid-focus-clone').remove();
				
				var clone = $('line.c3-xgrid-focus').clone();
				clone.removeClass('c3-xgrid-focus').addClass('c3-xgrid-focus-clone');
				clone.appendTo('g.c3-chart-texts');
				clone.css({
					'visibility': 'visible',
			    	'stroke': 'rgba(255, 84, 98, 1)',
// 			    	'opacity': '0.3 !important',
				});
				
				d3.select('line.c3-xgrid-focus-clone').attr('x1',x+25).attr('x2',x+25);
// 			}
		}
	});
	</script>
</body>
</html>
